# 功能说明文档

## 按键说明

### A键（主按钮）
- 短按：开始/暂停倒计时
- 长按：重置倒计时器

### B键（多功能键）
- 短按：重置倒计时器
- 长按：预留功能

### C键（切换键）
- 短按：切换功能模式
- 长按：开关机

## 功能模式

### 功能1：电池电量显示

#### 显示内容
- 实时显示外接18650电池电量
- 通过测量电池电压计算电量百分比

#### 技术说明
- 不同版本的M5Stack-C电量获取方式不同：
  - 标准版本：通过电源管理芯片获取
  - Plus2版本：通过ADC直接测量电压计算
- 电量显示范围：0-100%

### 功能2：倒计时功能

#### 基本操作
1. 初始状态显示"60"
2. 按A键开始倒计时
3. 倒计时过程中按A键可暂停
4. 按B键或长按A键可重置

#### 声音提示
- 开始倒计时：播放0001.mp3
- 35秒时：播放0002.mp3
- 25秒时：播放0003.mp3
- 0秒时：播放0004.mp3

#### 显示说明
- 每秒更新一次显示
- 数字从60开始递减
- 到达0时停止并播放结束音效

## 注意事项

1. 音频文件
   - 确保MP3模块中已预置所有音频文件
   - 音频文件命名必须为0001.mp3、0002.mp3、0003.mp3、0004.mp3

2. 电池电量显示
   - 不同版本设备可能需要不同的代码实现
   - 建议根据设备版本选择对应的电量获取方式

3. 按键操作
   - 长按C键关机时，请确保等待关机动画完成
   - 开机时同样需要长按C键直到开机动画完成

## 预留功能

- B键长按功能预留
- 可扩展更多功能模式
- 可添加更多自定义音频提示 